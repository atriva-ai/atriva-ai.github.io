---
import Layout from "@/layouts/Layout.astro";
import Sidebar from "@/components/docs/Sidebar.astro";
import MobileSidebar from "@/components/docs/MobileSidebar.astro";
import { Icon } from "astro-icon/components";

const { Content, frontmatter } = Astro.props;

// Fallback title if frontmatter missing
const title = frontmatter?.title ?? "Documentation";
---

<Layout title={title}>
  <!-- Docs Header -->
  <section class="relative overflow-hidden border-b border-slate-200">
    <!-- Background gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-[#48A18D]/5"></div>
    
    <div class="relative max-w-screen-xl mx-auto px-4 py-10 md:py-14">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
        <div>
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#48A18D]/10 text-[#48A18D] text-sm font-medium mb-3">
            <Icon name="bx:bx-book-open" class="w-4 h-4" />
            Documentation
          </div>
          <h1 class="text-3xl md:text-4xl font-bold text-slate-900 tracking-tight">
            Atriva Edge AI Platform
          </h1>
          <p class="mt-2 text-slate-600 max-w-xl">
            Guides, tutorials, and API references to help you build and deploy Edge AI applications.
          </p>
        </div>
        
        <!-- Quick Links -->
        <div class="flex flex-wrap gap-3">
          <a
            href="/docs/quickstart"
            class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-[#48A18D] hover:bg-[#3b8675] rounded-lg transition-colors"
          >
            <Icon name="bx:bx-rocket" class="w-4 h-4" />
            Quick Start
          </a>
          <a
            href="https://github.com/atriva-ai-community"
            target="_blank"
            rel="noopener"
            class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 rounded-lg border border-slate-200 transition-colors"
          >
            <Icon name="bx:bxl-github" class="w-4 h-4" />
            GitHub
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Docs Content -->
  <div class="bg-slate-50 min-h-screen">
    <div class="max-w-screen-xl mx-auto px-4 py-8 flex gap-8">

      <!-- Desktop Sidebar -->
      <aside class="hidden md:block w-64 shrink-0 sticky top-8 self-start">
        <Sidebar />
      </aside>

      <!-- Main content -->
      <main class="flex-1 bg-white rounded-xl shadow-sm px-6 md:px-8 py-6 prose prose-slate max-w-none">
        <h1>{title}</h1>
        <Content />
      </main>

    </div>
  </div>

  <!-- Mobile Sidebar -->
  <MobileSidebar />
</Layout>
